<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sign Up - Wincash</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
  :root{
    --bg:#0b0b20;
    --header:#151532;
    --card:#1d1f2e;
    --accent:#b8a3ff;
    --green:#33ff77;
  }

  *{
    margin:0;
    padding:0;
    box-sizing:border-box;
  }

  body{
    font-family:'Poppins', sans-serif;
    background:var(--bg);
    color:white;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:20px;
  }

  .signup-container{
    background:var(--header);
    padding:40px;
    border-radius:20px;
    width:100%;
    max-width:450px;
    box-shadow:0 15px 50px rgba(0,0,0,0.6);
  }

  .signup-container h2{
    text-align:center;
    margin-bottom:10px;
    font-size:32px;
    background:linear-gradient(90deg, white, var(--green));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
  }

  .signup-container p{
    text-align:center;
    margin-bottom:30px;
    color:#bbb;
  }

  .form-group{
    margin-bottom:20px;
  }

  .form-group label{
    display:block;
    margin-bottom:8px;
    color:#ddd;
    font-size:14px;
  }

  .form-group input{
    width:100%;
    padding:15px;
    border-radius:10px;
    border:1px solid #333366;
    background:rgba(30,30,50,0.8);
    color:white;
    font-size:16px;
    font-family:'Poppins', sans-serif;
    transition:all 0.3s;
  }

  .form-group input:focus{
    outline:none;
    border-color:var(--accent);
    box-shadow:0 0 10px rgba(184,163,255,0.3);
  }

  .signup-btn{
    width:100%;
    padding:16px;
    background:linear-gradient(45deg, var(--green), #00ffcc);
    color:#0b0b20;
    border:none;
    border-radius:10px;
    font-size:18px;
    font-weight:600;
    cursor:pointer;
    transition:all 0.3s;
    font-family:'Poppins', sans-serif;
    margin-top:10px;
  }

  .signup-btn:hover{
    transform:translateY(-3px);
    box-shadow:0 8px 25px rgba(51,255,119,0.4);
  }

  .login-link{
    text-align:center;
    margin-top:20px;
    color:#bbb;
  }

  .login-link a{
    color:var(--accent);
    text-decoration:none;
    font-weight:600;
  }

  .login-link a:hover{
    text-decoration:underline;
  }

  .toast{
    position:fixed;
    top:25px;
    right:25px;
    background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color:white;
    padding:18px 30px;
    border-radius:12px;
    box-shadow:0 8px 25px rgba(0,0,0,0.4);
    display:none;
    align-items:center;
    gap:15px;
    z-index:2000;
    animation:slideInToast 0.4s;
  }

  .toast.show{display:flex;}

  @keyframes slideInToast{
    from{transform:translateX(100%); opacity:0;}
    to{transform:translateX(0); opacity:1;}
  }

  .toast.error{
    background:linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
  }

  .toast-close{
    background:none;
    border:none;
    color:white;
    font-size:20px;
    cursor:pointer;
    padding:0;
    margin-left:10px;
  }
</style>
</head>
<body>

<div class="signup-container">
  <h2>Create Account </h2>
  <p>Join Wincash and start earning today!</p>

  <form onsubmit="signUp(event)">
    <div class="form-group">
      <label>Username</label>
      <input type="text" id="username" placeholder="Choose a username" required>
    </div>

    <div class="form-group">
      <label>Email</label>
      <input type="email" id="email" placeholder="your@email.com" required>
    </div>

    <div class="form-group">
      <label>Password</label>
      <input type="password" id="password" placeholder="Create a password" required>
    </div>

    <div class="form-group">
      <label>Confirm Password</label>
      <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
    </div>

    <button type="submit" class="signup-btn">
      <i class="fas fa-user-plus"></i> Create Account
    </button>
  </form>

  <div class="login-link">
    Already have an account? <a href="home.html">Sign In</a>
  </div>
</div>

<div id="toast" class="toast">
  <span class="toast-icon" id="toastIcon">âœ“</span>
  <span class="toast-message" id="toastMessage">Success!</span>
  <button class="toast-close" onclick="hideToast()">Ã—</button>
</div>

<script>
function signUp(event) {
  event.preventDefault();
  
  const username = document.getElementById('username').value.trim();
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value;
  const confirmPassword = document.getElementById('confirmPassword').value;
  
  // Validation
  if(password !== confirmPassword) {
    showToast('Passwords do not match!', 'error');
    return;
  }
  
  if(password.length < 6) {
    showToast('Password must be at least 6 characters!', 'error');
    return;
  }
  
  // localStorage à¦¥à§‡à¦•à§‡ existing users à¦¨à¦¿à¦¯à¦¼à§‡ à¦†à¦¸à§‹
  const users = JSON.parse(localStorage.getItem('users') || '[]');
  
  // Check à¦•à¦°à§‹ user already à¦†à¦›à§‡ à¦•à¦¿à¦¨à¦¾
  const userExists = users.find(u => 
    u.username === username || u.email === email
  );
  
  if(userExists) {
    showToast('Username or Email already exists!', 'error');
    return;
  }
  
  // âœ… à¦¨à¦¤à§à¦¨ user add à¦•à¦°à§‹ - BALANCE à¦¸à¦¹
  const newUser = {
    username: username,
    email: email,
    password: password,
    createdAt: new Date().toISOString(),
    balance: 0.00
  };
  
  users.push(newUser);
  localStorage.setItem('users', JSON.stringify(users));
  
  // âœ… AUTO LOGIN after signup
  localStorage.setItem('currentUser', JSON.stringify(newUser));
  
  showToast('Account created successfully! Redirecting to dashboard...', 'success');
  setTimeout(() => {
    window.location.href = 'dashboard.html'; // ðŸ”¥ FIXED: dashboard.html-à¦ redirect
  }, 2000);
}

function showToast(message, type = 'success') {
  const toast = document.getElementById('toast');
  const toastMessage = document.getElementById('toastMessage');
  const toastIcon = document.getElementById('toastIcon');
  
  toast.classList.remove('success', 'error');
  toast.classList.add(type);
  toastMessage.textContent = message;
  toastIcon.textContent = type === 'success' ? 'âœ“' : 'âš ï¸';
  
  toast.classList.add('show');
  
  setTimeout(() => {
    hideToast();
  }, 4000);
}

function hideToast() {
  document.getElementById('toast').classList.remove('show');
}
</script>

</body>
</html>